# DAY16

## Vibe Coding

### Vibe Coding

- Vibe Coding에서의 중요점은 어디에 어떻게 넣을지, 어떻게 활용할지에 대한 개발자의 판단이 중요

- Andrej Karpathy

- Vibe Coding(Copilot, Cursor, Koro, ChatGPT)

- 명령형과 대화형 방식의 차이(대화형이 좀 더 바이브 코딩과 가깝다고 보여짐)

- 큰 틀

  - 계획, 기획
  - 프롬프트 작성

- 효율적인 바이브 코딩 방법

  - **기능 구현 방안 탐색(구체적 목적 설정)**
  - **방안 검토 후 적절한 것 선택**
  - **어떻게 구현할지 계획서 작성**
  - **계획서 검토(자신의 방향대로 프로젝트가 진행되고 있는지)**
  - **계획서에 있는 내용중 n단계 수행 요구**

  :bulb: 계획 실행 전까진 최대한 무료 AI 사용 권장

### 필수 요구 사항

- 아래는 프롬프트 작성시 참고하면 좋을만한 점임(100% 따라해야하는 것은 아님)

  - 기존 코드가 있다면 재사용

  - 임의대로 코드 수정, 삭제, 추가 절대 금지(내가 요청한 것만 수행하도록 명령)

  - 참고할 파일이 있으면 첨부

    예. DB 정의서없는경우 AI가 임의대로 테이블, 컬럼을 정함

  - 생성 및 수정 요청 시 각 폴더 구조 준수 지시

    예. html, css, js 파일을 분리해서 작성해줘

  - 공통 사용 기능 정리하여 재사용 지시

  - 단위 프로젝트로 나눠서 채팅방 사용하기

- #### 기존 프로젝트로 진행할 경우

  - 전체적인 프로젝트 분석(폴더 구조 분석 꼭 확인하도록 시킴)
  - 기존 코드를 사용할 경우 해당 파일 다시 분석

- #### 새로운 프로젝트로 진행할 경우

  - 어떤 언어, 기술 등등을 사용할지 정하기 => AI도움(예. 임베딩 데이터를 어떤 방식으로 검색을 할 것인지. 속도에 초점을 맞출 것인지, 내용에 초점을 맞출 것인지)
  - **각 언어의 폴더 구조 파악**(react, html, python(fastAPI))등등
  - 공통적으로 사용하는 코드 분리(재사용되는 코드 분리)

### :rotating_light: 주의사항

- AI 100% 의존하는 형식의 개발은 절대 금물
  - 자신의 개발적 성장이 이루어지질 않음
- 코드 공부는 더욱 더 필수적

### 시연/실습

```
~~를 만드려고해.

어떻게 진행하는게 좋을까?

+a) 코드를 작성하지 말고 어떤 언어, 현재 유행하는 스타일, 사용되는 라이브러리 등등을 각각 비교해서 알려줘.
```

```
~~ 규모로 진행할거야.

~~를 사용할거야.

혹시 보완하거나, 추천해줄 만한게 더 있을까?
```

### cursor

- Agent : 코드작업까지 수행

  Plan : 계획 제공

  Background : 시간 오래걸리는 작업 background로 돌아가도록

  Ask : 일반 채팅

- 프롬프트 작성 시

  :bulb: 번호 붙이면 모델이 좀 더 잘 수행하는 경향

  :bulb: 도중에 버퍼걸리면 '계속 진행해줘.'

  작성완료 되면 Undo All - 작업 내용 날리기, Keep All - 작업 내용 적용

  :bulb: 주의사항 작성시 아래와 같이 작성하면 좀 더 잘 받아들인다.

  ```
  ~~ 주의해서해줘
  ===============
  주의사항
  1.
  2.
  3.
  ```

  :bulb: 프롬프트에 아래 조건을 달면 좀 더 상세하게 답변 만든다.

  ```
  step by step, 구조적으로, 하나하나 등당
  ```

- 커서 규칙 정하기

  - Cursor Settings - Rules & Memories - User Rules 혹은 Project Rules

  - User Rules

    ```
    수정 시 임의대로 파일을 생성하지 마세요.
    파일 수정 후 프로젝트를 마음대로 실행하지 마세요.
    사용자 요청 외에는 그 어떤 코드도 임의로 수정, 삭제, 추가하지 말것
    ```

  - Project Rules

    프로젝트 별 컨벤션

    ```
    프로젝트에 공통적으로 적용 될 규칙 작성
    ```

- 1차적인 프롬프트 작성 후 README 지시 따라서 진행(환경설정)

## TIL

- python 실행 경로

  패키지들을 받아서 사용할 경우에 해당 패키지는 어떤 기준으로 가져와야하는걸까?

  `python -m service.py`를 할 경우 현재 디렉터리에서 service라는 최상위 모듈을 찾는다. 하지만 다른 패키지들은 상위폴더들의 다른 경로에 있으니 패키지 전체 이름을 작성해줘야한다.

- ### HTTP 요청으로 간단하게 테스트하기

  ```
  curl -s -X POST http://localhost:8000/v1/notion/agent \
    -H "Content-Type: application/json" \
    -d '{
      "text": "\"테스트 작업 A\"를 삭제해줘"
    }' | jq .
  ```

- `curl -s -X POST`

  - curl : 터미널에서 HTTP 요청을 보낼 때 쓰는 기본 도구
  - -s : silent 모드. 진행률이나 오류 메시지를 숨김
  - -X POST : POST 메서드로 요청을 보낸다는 의미

- `http://localhost:8000/v1/notion/agent`

  - 요청이 향하는 엔드포인트

- `  -H "Content-Type: application/json"`

  - 요청 본문(body)이 JSON 포맷임을 명시
  - 서버는 FastAPI의 request body 파싱을 통해 JSON을 읽어들임

- `-d '{
      "text": "\"테스트 작업 A\"를 삭제해줘"
    }'`

  - 실제 전달되는 데이터

- `| jq .`

  - jq : JSON을 예쁘게 포맷해서 보기 좋게 출력















